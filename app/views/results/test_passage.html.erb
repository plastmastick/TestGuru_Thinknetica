<div class="mt-3">
  <!--Header-->
  <h2 class="text-center">
    <%= t('.header', title: @result.test.title ) %>
  </h2>

  <!--Progress Bar-->
  <div class="progress mt-3 pointer">
    <div class="progress-bar test-progress-bar"
         role="progressbar"
         style="width: 0%">
      0%
    </div>
  </div>

  <!--Timer-->
  <% if @result.test.timer %>
    <div class="mt-3 text-center test-timer">
      <%= timer_set(@result.time_left) %>
    </div>
  <% end %>

  <!--Test Info-->
  <div class="mt-3">
    <b>
      № <%= @result.test.questions.index(@result.current_question) + 1 %>
      из <%= @result.test.questions.count %>.
    </b>

    <p class="mt-2">
      <%= @result.current_question.body %>
    </p>
  </div>

  <!--Test form-->
  <div>
    <%= form_with url: result_path(@result),
                  local: true,
                  data: {
                    question_index: @result.test.questions.index(@result.current_question),
                    questions_count: @result.test.questions.count
                  },
                  method: :put do |form| %>
      <%= form.collection_check_boxes :answer_ids, @result.current_question.answers, :id, :body,
                                      include_hidden: false do |b| %>
        <p>
          <%= b.check_box id: "answer_ids_#{b.object_id}" %>
          <%= b.label %>
        </p>
      <% end %>

      <p>
        <%= link_to 'Gist Question', result_gists_path(@result), method: :post %>
      </p>
      <p>
        <%= form.submit t('helpers.buttons.next'), id: 'send-answer' %>
      </p>
    <% end %>
  </div>
</div>
